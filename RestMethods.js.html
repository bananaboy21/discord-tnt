<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: RestMethods.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: RestMethods.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const superagent = require("superagent");
const { userAgent: USER_AGENT, API_VERSION }  = require("./Constants.js");
const BASE_URL = `https://discordapp.com/api/v${API_VERSION}`;

/**
* A class that includes some useful methods for interacting
* with Discord API in easier way, the client instance will
* have a property named rest that has access to this class
* that will be used throughout the library for easier
* access to the request methods wherever we have access
* to client instance. its not recommended to use this class
* its meant to be used by the library, but ok i will still
* document it for those who might be interested.
* @constructor
* @param {Client} client - The main client instance.
* @example
* client.rest.post("/channels/ChannelID/messages", {content:"Hi sent using the client rest methods!"});
* // do a simple post request to that endpoint
*/
class RestMethods {
	constructor(client) {
		
		/**
		* The main client.
		* @type {Client}
		*/
		this.client = client;
	}
	
	/**
	* Gets a Discord API Endpoint.
	* @param {String} endpoint - The Endpoint to request.
	* @returns {Promise&lt;Object>}
	*/
	get(endpoint) {
		return new Promise((resolve, reject) => {
			superagent
			 .get(BASE_URL + endpoint)
			 .set("Authorization", `Bot ${this.client.TOKEN}`)
			 .set("User-Agent", USER_AGENT)
			 .then(res => {
			 	return resolve(res.body);
			 }).catch(err => {
			 	return reject(err);
			 });
		});
	}
	
	/**
	* Do a POST Request to an endpoint.
	* @param {String} endpoint - The endpoint to request.
	* @param {Object} data - The data to send.
	* @returns {Promise&lt;Object>}
	*/
	post(endpoint, data) {
		return new Promise((resolve, reject) => {
			superagent
			 .post(BASE_URL + endpoint)
			 .set("Authorization", `Bot ${this.client.TOKEN}`)
			 .set("User-Agent", USER_AGENT)
			 .send(data)
			 .then(res => {
			 	return resolve(res.body);
			 }).catch(err => {
			 	return reject(err);
			 });
		});
	}
	
	/**
	* Do a PUT Request to an endpoint.
	* @param {String} endpoint - The endpoint to request.
	* @param {Object} data - The data to send.
	* @returns {Promise&lt;Object>}
	*/
	put(endpoint, data) {
		return new Promise((resolve, reject) => {
			superagent
			 .put(BASE_URL + endpoint)
			 .set("Authorization", `Bot ${this.client.TOKEN}`)
			 .set("User-Agent", USER_AGENT)
			 .send(data)
			 .then(res => {
			 	return resolve(res.body);
			 }).catch(err => {
			 	return reject(err);
			 });
		});
	}
	
	/**
	* Do a PATCH Request to an endpoint.
	* @param {String} endpoint - The endpoint to request.
	* @param {Object} data - The data to send.
	* @returns {Promise&lt;Object>}
	*/
	patch(endpoint, data) {
		return new Promise((resolve, reject) => {
			superagent
			 .patch(BASE_URL + endpoint)
			 .set("Authorization", `Bot ${this.client.TOKEN}`)
			 .set("User-Agent", USER_AGENT)
			 .send(data)
			 .then(res => {
			 	return resolve(res.body);
			 }).catch(err => {
			 	return reject(err);
			 });
		});
	}
	
	/**
	* Do a DELETE Request to an endpoint.
	* @param {String} endpoint - The endpoint to request.
	* @param {Object} data - The data to send.
	* @returns {Promise&lt;Object>}
	*/
	delete(endpoint, data) {
		return new Promise((resolve, reject) => {
			superagent
			 .delete(BASE_URL + endpoint)
			 .set("Authorization", `Bot ${this.client.TOKEN}`)
			 .set("User-Agent", USER_AGENT)
			 .then(res => {
			 	return resolve(res.body);
			 }).catch(err => {
			 	return reject(err);
			 });
		});
	}
}

module.exports = RestMethods;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Client.html">Client</a></li><li><a href="Collection.html">Collection</a></li><li><a href="EmbedBuilder.html">EmbedBuilder</a></li><li><a href="RestMethods.html">RestMethods</a></li><li><a href="Self.html">Self</a></li><li><a href="Snowflake.html">Snowflake</a></li><li><a href="Utils.html">Utils</a></li><li><a href="WebhookClient.html">WebhookClient</a></li><li><a href="WebSocketConnection.html">WebSocketConnection</a></li></ul><h3>Events</h3><ul><li><a href="Client.html#event:ANY">ANY</a></li><li><a href="Client.html#event:disconnect">disconnect</a></li><li><a href="Client.html#event:messageCreate">messageCreate</a></li><li><a href="Client.html#event:resume">resume</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Thu Mar 08 2018 22:37:15 GMT+0300 (AST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
